{"author_date": "2016-02-11 15:55:25+00:00", "msg": "Shut down in-memory database when DevTools restarts the context\n\nPreviously an in-memory database that wasn\u2019t pooled (an\nEmbeddedDatabase) would be shutdown when the context restarted, but\nan in-memory database wrapped in a connection pool was not. This meant\nthat the former would be be wiped clean after each restart, whereas the\nlatter would not. In addition to being inconsistent, this also\ncaused problems with schema.sql and data.sql scripts when using\nDevTools. If you were using an in-memory database wrapped in a\nconnection pool, a failure may occur during a restart as the scripts\nwere not being run against in clean database.\n\nThis commit adds an auto-configured bean to DevTools that, when the\ncontext is being closed, will execute \u201cSHUTDOWN\u201d if it identifies that\nthe DataSource is not an EmbeddedDatabase and is for an in-memory\ndatabase.\n\nCloses gh-4699"}