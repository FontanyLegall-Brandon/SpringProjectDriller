{"author_date": "2019-03-06 22:03:46+01:00", "msg": "Add @ConditionalOnExposedEndpoint condition\n\nPrior to this commit, Actuator `Endpoint` instantiations would be\nguarded by `@ConditionalOnEnabledEnpoint` condition annotations. This\nfeature saves resources as disabled endpoints aren't unnecessarily\ninstantiated.\n\nBy default, only `\"health\"` and `\"info\"` endpoints are exposed over the\nweb and all endpoints are exposed over JMX.\n\nAs of gh-16090, JMX is now disabled by default. This is an opportunity\nto avoid instantiating endpoints if they won't be exposed at all, which\nis more likely due to the exposure defaults.\n\nThis commit adds a new `@ConditionalOnExposedEndpoint` conditional\nannotation that checks the `Environment` for configuration properties\nunder `\"management.endpoints.web.exposure.*\"` and\n`\"management.endpoints.jmx.exposure.*\"`. In the case of JMX, an\nadditional check is perfomed, checking that JMX is enabled first.\nThe rules implemented in the condition itself are following the ones\ndescribed in `ExposeExcludePropertyEndpointFilter`.\n\nSee gh-16093"}