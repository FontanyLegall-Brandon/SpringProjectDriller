{"author_date": "2015-12-14 16:24:43+00:00", "msg": "Stop ActiveMQ pooled connection factory when context is closed\n\nPreviously, ActiveMQ's pooled connection factory was not closed as\npart of the application context being closed. This would leave\nnon-daemon threads running which could cause shutdown to hang unless\nthe JVM itself was shutting down (in which case a shutdown hook would\nstop the pool).\n\nThis commit configures each pooled connection factory bean with a\ncustom destroy method so that the pool is stopped as part of the\napplication context being closed. To allow the destroy method to only\nbe declared when the connection factory is pooled, the bean method\nhas been split into two; one for pooled and one for non-pooled. This\nis a partial backport of the changes made in bedf2edf.\n\nCloses gh-4748"}