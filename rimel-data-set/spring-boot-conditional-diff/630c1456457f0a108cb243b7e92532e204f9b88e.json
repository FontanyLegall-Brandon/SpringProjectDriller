{"author_date": "2014-11-05 13:01:12+01:00", "msg": "Fix order of JMS auto configuration\n\nAdd additional @AutoConfigureAfter elements to ActiveMQAutoConfiguration\nand HornetQAutoConfiguration to ensure that they are configured after\nJndiConnectionFactoryAutoConfiguration.\n\nThe possible sources for a JMS ConnectionFactory are:\n\n1. JNDI\n2. HornetQ (embedded broker or an external broker)\n3. ActiveMQ (embedded broker or an external broker)\n\nThe last two auto configurations must run after JTA auto-configuration\nhas completed as it may register additional beans that are necessary to\nenable XA.\n\nPreviously, the HornetQ embedded broker would start regardless of the\npresence of a ConnectionFactory as a ConditionalOnMissingBean was\nmissing. Furthermore, there was no order condition for the JNDI\nauto-configuration so it may just run after one of the broker has been\nfound.\n\nJNDI takes now precedence to be consistent with the regular DataSource\nauto configuration.\n\nFixes gh-1821"}