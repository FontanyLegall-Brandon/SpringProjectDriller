{"author_date": "2014-06-12 18:41:13+02:00", "msg": "DataSource metrics\n\nThis commit adds an abstraction that provides a standard manner to\nretrieve various metadata that are shared by most data sources.\n\nDataSourceMetadata is implemented by the three data source\nimplementations that boot supports out-of-the-box: Tomcat, Hikari and\nCommons dbcp.\n\nThis abstraction is used to provide two additional metrics per data\nsource defined in the application: the number of allocated\nconnection(s) (.active) and the current usage of the connection pool\n(.usage).\n\nAll such metrics share the 'datasource.' prefix. The prefix is further\nqualified for each data source:\n\n* If the data source is the primary data source (that is either the\n  only available data source or the one flagged @Primary amongst the\n  existing ones), the prefix is \"datasource.primary\"\n* If the data source bean name ends with \"dataSource\", the prefix is\n  the name of the bean without it (i.e. batchDataSource becomes batch)\n* In all other cases, the name of the bean is used\n\nIt is possible to override part or all of those defaults by\nregistering a bean with a customized version of\nDataSourcePublicMetrics.\n\nAdditional DataSourceMetadata implementations for other data source\ntypes can be added very easily, check\nDataourceMetadataProvidersConfiguration for more details.\n\nFixes gh-1013"}