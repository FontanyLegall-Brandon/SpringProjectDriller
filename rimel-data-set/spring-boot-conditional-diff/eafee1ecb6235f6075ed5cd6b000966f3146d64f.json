{"author_date": "2015-07-14 11:23:49+02:00", "msg": "Fix ordering of mail auto-configuration\n\nIt is not possible to put `@Order` on nested `@Configuration` classes and\nthere is no ordering guarantee of them anyway. Previously, we relied on\nthe declaration order to check if the `test-connection` flag should apply\nto an existing `JavaMailSenderImpl`. It turns out at the\n`JavaMailSenderImpl` bean was not created at that time and so the\nevaluation was wrongly failing.\n\nTo make that more explicit, that code is now in its own\nauto-configuration with an explicit `@AutoConfigureAfter` declaration.\n\nSince the JNDI support could be affected by the exact same issue, it has\nbeen restored to its own package private configuration class that is\nprocessed before the  `MailSenderAutoConfiguration` content is evaluated.\n\nCloses gh-3478"}